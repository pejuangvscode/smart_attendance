<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/smartattendance/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/smartattendance/MainActivity.kt" />
              <option name="originalContent" value="package com.example.smartattendance&#10;&#10;import android.app.Activity&#10;import android.graphics.Bitmap&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.ExperimentalAnimationApi&#10;import androidx.compose.animation.core.FastOutSlowInEasing&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.fadeIn&#10;import androidx.compose.animation.fadeOut&#10;import androidx.compose.animation.slideInHorizontally&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutHorizontally&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.SideEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalView&#10;import androidx.core.view.WindowCompat&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.currentBackStackEntryAsState&#10;import androidx.navigation.compose.rememberNavController&#10;import com.example.smartattendance.api.AuthApi&#10;import com.example.smartattendance.ui.components.AppBottomNavigation&#10;import com.example.smartattendance.ui.screens.AttendanceDetailScreen&#10;import com.example.smartattendance.ui.screens.AttendanceScreen&#10;import com.example.smartattendance.ui.screens.CameraScreen&#10;import com.example.smartattendance.ui.screens.HistoryScreen&#10;import com.example.smartattendance.ui.screens.HomeScreen&#10;import com.example.smartattendance.ui.screens.ListScreen&#10;import com.example.smartattendance.ui.screens.LoginScreen&#10;import com.example.smartattendance.ui.screens.RequestPermissionScreen&#10;import com.example.smartattendance.ui.screens.ScheduleScreen&#10;import com.example.smartattendance.ui.screens.SignUpScreen&#10;import com.example.smartattendance.ui.screens.SubmissionCompleteScreen&#10;import com.example.smartattendance.ui.screens.SubmitAttendanceScreen&#10;import com.example.smartattendance.ui.screens.CreatePermissionFormScreen&#10;import com.example.smartattendance.ui.theme.SmartAttendanceTheme&#10;import com.example.smartattendance.utils.SessionManager&#10;import androidx.navigation.NavType&#10;import androidx.navigation.navArgument&#10;import com.example.smartattendance.ui.screens.SubmissionScreen&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        // This enables edge-to-edge display and makes the status bar transparent.&#10;        enableEdgeToEdge()&#10;&#10;        setContent {&#10;            SmartAttendanceTheme {&#10;                Surface(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    color = Color.White&#10;                ) {&#10;                    AppNavigation()&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class, ExperimentalAnimationApi::class)&#10;@Composable&#10;fun AppNavigation() {&#10;    val navController = rememberNavController()&#10;    val navBackStackEntry by navController.currentBackStackEntryAsState()&#10;    val currentRoute = navBackStackEntry?.destination?.route ?: &quot;login&quot;&#10;    // Initialize SessionManager&#10;    val context = LocalView.current.context&#10;    val sessionManager = remember { SessionManager(context) }&#10;&#10;    // State for captured photo and attendance detail parameters&#10;    var capturedPhoto by remember { mutableStateOf&lt;Bitmap?&gt;(null) }&#10;    var isLateAttendance by remember { mutableStateOf(false) }&#10;    var selectedClassName by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedStatus by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedCourseCode by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedLecturerId by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedRoom by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedDay by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedStartTime by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedEndTime by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedAttendanceDate by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedRecordedAt by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    // State to hold the current user&#10;    var user by remember { mutableStateOf&lt;AuthApi.User?&gt;(null) }&#10;&#10;    // Check session on app start&#10;    var startDestination by remember { mutableStateOf(&quot;login&quot;) }&#10;    LaunchedEffect(Unit) {&#10;        sessionManager.userFlow.collect { savedUser -&gt;&#10;            if (savedUser != null) {&#10;                user = savedUser&#10;                startDestination = &quot;home&quot;&#10;            } else {&#10;                startDestination = &quot;login&quot;&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;    // --- Dynamic Status Bar Color ---&#10;    val view = LocalView.current&#10;    // This effect runs whenever the currentRoute changes.&#10;    // It adjusts the status bar icon color based on the screen's background.&#10;    if (!view.isInEditMode) {&#10;        SideEffect {&#10;            val window = (view.context as Activity).window&#10;            // When on 'home' screen (dark header), icons are light (false).&#10;            // On other screens (light background), icons are dark (true).&#10;            WindowCompat.getInsetsController(window, view).isAppearanceLightStatusBars = currentRoute != &quot;home&quot;&#10;        }&#10;    }&#10;    // --- End of Status Bar Logic ---&#10;&#10;    // Routes where bottom navigation should be shown&#10;    val routesWithBottomNav = setOf(&quot;home&quot;, &quot;attendance&quot;, &quot;history&quot;, &quot;schedule&quot;, &quot;request_permission&quot;, &quot;create_permission_request&quot;, &quot;submission_complete&quot;, &quot;pending_request&quot;)&#10;&#10;    Scaffold(&#10;        bottomBar = {&#10;            AnimatedVisibility(&#10;                visible = currentRoute in routesWithBottomNav,&#10;                enter = slideInVertically(&#10;                    initialOffsetY = { it },&#10;                    animationSpec = tween(300, easing = FastOutSlowInEasing)&#10;                ) + fadeIn(animationSpec = tween(300)),&#10;                exit = slideOutVertically(&#10;                    targetOffsetY = { it },&#10;                    animationSpec = tween(300, easing = FastOutSlowInEasing)&#10;                ) + fadeOut(animationSpec = tween(300))&#10;            ) {&#10;                AppBottomNavigation(&#10;                    currentRoute = currentRoute,&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    ) { paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues),&#10;            enterTransition = { slideInHorizontally(initialOffsetX = { it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeIn(animationSpec = tween(300)) },&#10;            exitTransition = { slideOutHorizontally(targetOffsetX = { -it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeOut(animationSpec = tween(300)) },&#10;            popEnterTransition = { slideInHorizontally(initialOffsetX = { -it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeIn(animationSpec = tween(300)) },&#10;            popExitTransition = { slideOutHorizontally(targetOffsetX = { it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeOut(animationSpec = tween(300)) }&#10;        ) {&#10;            composable(&#10;                &quot;login&quot;,&#10;                enterTransition = { fadeIn(animationSpec = tween(500)) },&#10;                exitTransition = { fadeOut(animationSpec = tween(300)) }&#10;            ) {&#10;                LoginScreen(&#10;                    sessionManager = sessionManager,&#10;                    onLoginSuccess = { loggedInUser -&gt;&#10;                        user = loggedInUser&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;login&quot;) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onSignUpClick = {&#10;                        navController.navigate(&quot;sign_up&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;sign_up&quot;&#10;            ){&#10;                SignUpScreen(&#10;                    onNavigateToLogin ={&#10;                        navController.navigate(&quot;login&quot;){&#10;                            popUpTo(0)&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;home&quot;) {&#10;                HomeScreen(&#10;                    user = user,&#10;                    sessionManager = sessionManager,&#10;                    navController = navController,&#10;                    onLogout = {&#10;                        user = null // Clear user on logout&#10;                        navController.navigate(&quot;login&quot;) {&#10;                            popUpTo(0)&#10;                        }&#10;                    },&#10;                    onDateClick = {&#10;                        navController.navigate(&quot;history&quot;)&#10;                    },&#10;                    onRequestPermission = {&#10;                        navController.navigate(&quot;request_permission&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;attendance&quot;) {&#10;                AttendanceScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onTakePhoto = {&#10;                        navController.navigate(&quot;camera&quot;)&#10;                    },&#10;                    onAskPermission = {&#10;                        navController.navigate(&quot;request_permission&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;camera&quot;) {&#10;                CameraScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onPhotoTaken = { bitmap -&gt;&#10;                        capturedPhoto = bitmap&#10;                        isLateAttendance = false&#10;                        navController.navigate(&quot;submit_attendance&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;submit_attendance&quot;) {&#10;                SubmitAttendanceScreen(&#10;                    capturedPhoto = capturedPhoto,&#10;                    isLateAttendance = isLateAttendance,&#10;                    onBackClick = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    },&#10;                    onTakePhotoClick = {&#10;                        navController.navigate(&quot;camera&quot;)&#10;                    },&#10;                    onSubmitSuccess = {&#10;                        capturedPhoto = null&#10;                        isLateAttendance = false&#10;                        navController.navigate(&quot;submission_complete&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = false }&#10;                            launchSingleTop = true&#10;                        }&#10;                    },&#10;                    onNavigateHome = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;history&quot;) {&#10;                HistoryScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigateToDetail = { className, status, courseCode, lecturerId, room, day, startTime, endTime, attendanceDate, recordedAt -&gt;&#10;                        selectedClassName = className&#10;                        selectedStatus = status&#10;                        selectedCourseCode = courseCode&#10;                        selectedLecturerId = lecturerId&#10;                        selectedRoom = room&#10;                        selectedDay = day&#10;                        selectedStartTime = startTime&#10;                        selectedEndTime = endTime&#10;                        selectedAttendanceDate = attendanceDate&#10;                        selectedRecordedAt = recordedAt&#10;                        navController.navigate(&quot;attendance_detail&quot;)&#10;                    },&#10;                    onNavigateToSchedule = {&#10;                        navController.navigate(&quot;schedule&quot;) {&#10;                            popUpTo(&quot;home&quot;) { saveState = true }&#10;                            launchSingleTop = true&#10;                            restoreState = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;attendance_detail&quot;) {&#10;                AttendanceDetailScreen(&#10;                    className = selectedClassName,&#10;                    status = selectedStatus,&#10;                    courseCode = selectedCourseCode,&#10;                    lecturerId = selectedLecturerId,&#10;                    room = selectedRoom,&#10;                    day = selectedDay,&#10;                    startTime = selectedStartTime,&#10;                    endTime = selectedEndTime,&#10;                    attendanceDate = selectedAttendanceDate,&#10;                    recordedAt = selectedRecordedAt,&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // List screen for center navigation&#10;            composable(&quot;list&quot;) {&#10;                ListScreen(&#10;                    onNavigateBack = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    },&#10;                    onCardClick = { className, status -&gt;&#10;                        selectedClassName = className&#10;                        selectedStatus = status&#10;                        navController.navigate(&quot;attendance_detail&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;schedule&quot;) {&#10;                ScheduleScreen(&#10;                    user = user,&#10;                    onNavigateBack = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;submission_complete&quot;) {&#10;                SubmissionCompleteScreen(&#10;                    status = selectedStatus, // pass the selected status&#10;                    courseName = selectedClassName, // pass the selected class name&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigateHome = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;request_permission&quot;) {&#10;                RequestPermissionScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onCreateRequest = {&#10;                        // TODO: Navigate to create permission request screen&#10;                        navController.navigate(&quot;create_permission_form&quot;)&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;create_permission_form&quot;) {&#10;                CreatePermissionFormScreen(&#10;                    user = user,&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onSubmit = {&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;submission_screen/{scheduleId}/{courseId}&quot;,&#10;                arguments = listOf(&#10;                    navArgument(&quot;scheduleId&quot;) { type = androidx.navigation.NavType.IntType },&#10;                    navArgument(&quot;courseId&quot;) { type = androidx.navigation.NavType.IntType }&#10;                )&#10;            ) { backStackEntry -&gt;&#10;                val scheduleId = backStackEntry.arguments?.getInt(&quot;scheduleId&quot;)&#10;                val courseId = backStackEntry.arguments?.getInt(&quot;courseId&quot;)&#10;                SubmissionScreen(&#10;                    user = user,&#10;                    navController = navController,&#10;                    scheduleId = scheduleId,&#10;                    courseId = courseId&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;submission_complete_screen/{status}/{courseName}&quot;,&#10;                arguments = listOf(&#10;                    navArgument(&quot;status&quot;) { type = NavType.StringType },&#10;                    navArgument(&quot;courseName&quot;) { type = NavType.StringType }&#10;                )&#10;            ) { backStackEntry -&gt;&#10;                val status = backStackEntry.arguments?.getString(&quot;status&quot;) ?: &quot;&quot;&#10;                val courseName = backStackEntry.arguments?.getString(&quot;courseName&quot;) ?: &quot;&quot;&#10;                SubmissionCompleteScreen(&#10;                    status = status,&#10;                    courseName = courseName,&#10;                    onBackClick = { navController.navigate(&quot;home&quot;) },&#10;                    onNavigateHome = { navController.navigate(&quot;home&quot;) }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.smartattendance&#10;&#10;import android.app.Activity&#10;import android.graphics.Bitmap&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.activity.enableEdgeToEdge&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.animation.ExperimentalAnimationApi&#10;import androidx.compose.animation.core.FastOutSlowInEasing&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.fadeIn&#10;import androidx.compose.animation.fadeOut&#10;import androidx.compose.animation.slideInHorizontally&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutHorizontally&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Surface&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.SideEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalView&#10;import androidx.core.view.WindowCompat&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.currentBackStackEntryAsState&#10;import androidx.navigation.compose.rememberNavController&#10;import com.example.smartattendance.api.AuthApi&#10;import com.example.smartattendance.ui.components.AppBottomNavigation&#10;import com.example.smartattendance.ui.screens.AttendanceDetailScreen&#10;import com.example.smartattendance.ui.screens.AttendanceScreen&#10;import com.example.smartattendance.ui.screens.CameraScreen&#10;import com.example.smartattendance.ui.screens.HistoryScreen&#10;import com.example.smartattendance.ui.screens.HomeScreen&#10;import com.example.smartattendance.ui.screens.ListScreen&#10;import com.example.smartattendance.ui.screens.LoginScreen&#10;import com.example.smartattendance.ui.screens.RequestPermissionScreen&#10;import com.example.smartattendance.ui.screens.ScheduleScreen&#10;import com.example.smartattendance.ui.screens.SignUpScreen&#10;import com.example.smartattendance.ui.screens.SubmissionCompleteScreen&#10;import com.example.smartattendance.ui.screens.SubmitAttendanceScreen&#10;import com.example.smartattendance.ui.screens.CreatePermissionFormScreen&#10;import com.example.smartattendance.ui.theme.SmartAttendanceTheme&#10;import com.example.smartattendance.utils.SessionManager&#10;import androidx.navigation.NavType&#10;import androidx.navigation.navArgument&#10;import com.example.smartattendance.ui.screens.SubmissionScreen&#10;import com.example.smartattendance.ui.screens.SubmitionComplete&#10;&#10;class MainActivity : ComponentActivity() {&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        // This enables edge-to-edge display and makes the status bar transparent.&#10;        enableEdgeToEdge()&#10;&#10;        setContent {&#10;            SmartAttendanceTheme {&#10;                Surface(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    color = Color.White&#10;                ) {&#10;                    AppNavigation()&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class, ExperimentalAnimationApi::class)&#10;@Composable&#10;fun AppNavigation() {&#10;    val navController = rememberNavController()&#10;    val navBackStackEntry by navController.currentBackStackEntryAsState()&#10;    val currentRoute = navBackStackEntry?.destination?.route ?: &quot;login&quot;&#10;    // Initialize SessionManager&#10;    val context = LocalView.current.context&#10;    val sessionManager = remember { SessionManager(context) }&#10;&#10;    // State for captured photo and attendance detail parameters&#10;    var capturedPhoto by remember { mutableStateOf&lt;Bitmap?&gt;(null) }&#10;    var isLateAttendance by remember { mutableStateOf(false) }&#10;    var selectedClassName by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedStatus by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedCourseCode by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedLecturerId by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedRoom by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedDay by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedStartTime by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedEndTime by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedAttendanceDate by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedRecordedAt by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    // State to hold the current user&#10;    var user by remember { mutableStateOf&lt;AuthApi.User?&gt;(null) }&#10;&#10;    // Check session on app start&#10;    var startDestination by remember { mutableStateOf(&quot;login&quot;) }&#10;    LaunchedEffect(Unit) {&#10;        sessionManager.userFlow.collect { savedUser -&gt;&#10;            if (savedUser != null) {&#10;                user = savedUser&#10;                startDestination = &quot;home&quot;&#10;            } else {&#10;                startDestination = &quot;login&quot;&#10;            }&#10;        }&#10;    }&#10;&#10;&#10;    // --- Dynamic Status Bar Color ---&#10;    val view = LocalView.current&#10;    // This effect runs whenever the currentRoute changes.&#10;    // It adjusts the status bar icon color based on the screen's background.&#10;    if (!view.isInEditMode) {&#10;        SideEffect {&#10;            val window = (view.context as Activity).window&#10;            // When on 'home' screen (dark header), icons are light (false).&#10;            // On other screens (light background), icons are dark (true).&#10;            WindowCompat.getInsetsController(window, view).isAppearanceLightStatusBars = currentRoute != &quot;home&quot;&#10;        }&#10;    }&#10;    // --- End of Status Bar Logic ---&#10;&#10;    // Routes where bottom navigation should be shown&#10;    val routesWithBottomNav = setOf(&quot;home&quot;, &quot;attendance&quot;, &quot;history&quot;, &quot;schedule&quot;, &quot;request_permission&quot;, &quot;create_permission_request&quot;, &quot;submission_complete&quot;, &quot;pending_request&quot;)&#10;&#10;    Scaffold(&#10;        bottomBar = {&#10;            AnimatedVisibility(&#10;                visible = currentRoute in routesWithBottomNav,&#10;                enter = slideInVertically(&#10;                    initialOffsetY = { it },&#10;                    animationSpec = tween(300, easing = FastOutSlowInEasing)&#10;                ) + fadeIn(animationSpec = tween(300)),&#10;                exit = slideOutVertically(&#10;                    targetOffsetY = { it },&#10;                    animationSpec = tween(300, easing = FastOutSlowInEasing)&#10;                ) + fadeOut(animationSpec = tween(300))&#10;            ) {&#10;                AppBottomNavigation(&#10;                    currentRoute = currentRoute,&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    ) { paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues),&#10;            enterTransition = { slideInHorizontally(initialOffsetX = { it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeIn(animationSpec = tween(300)) },&#10;            exitTransition = { slideOutHorizontally(targetOffsetX = { -it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeOut(animationSpec = tween(300)) },&#10;            popEnterTransition = { slideInHorizontally(initialOffsetX = { -it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeIn(animationSpec = tween(300)) },&#10;            popExitTransition = { slideOutHorizontally(targetOffsetX = { it }, animationSpec = tween(300, easing = FastOutSlowInEasing)) + fadeOut(animationSpec = tween(300)) }&#10;        ) {&#10;            composable(&#10;                &quot;login&quot;,&#10;                enterTransition = { fadeIn(animationSpec = tween(500)) },&#10;                exitTransition = { fadeOut(animationSpec = tween(300)) }&#10;            ) {&#10;                LoginScreen(&#10;                    sessionManager = sessionManager,&#10;                    onLoginSuccess = { loggedInUser -&gt;&#10;                        user = loggedInUser&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;login&quot;) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onSignUpClick = {&#10;                        navController.navigate(&quot;sign_up&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;sign_up&quot;&#10;            ){&#10;                SignUpScreen(&#10;                    onNavigateToLogin ={&#10;                        navController.navigate(&quot;login&quot;){&#10;                            popUpTo(0)&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;home&quot;) {&#10;                HomeScreen(&#10;                    user = user,&#10;                    sessionManager = sessionManager,&#10;                    navController = navController,&#10;                    onLogout = {&#10;                        user = null // Clear user on logout&#10;                        navController.navigate(&quot;login&quot;) {&#10;                            popUpTo(0)&#10;                        }&#10;                    },&#10;                    onDateClick = {&#10;                        navController.navigate(&quot;history&quot;)&#10;                    },&#10;                    onRequestPermission = {&#10;                        navController.navigate(&quot;request_permission&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;attendance&quot;) {&#10;                AttendanceScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onTakePhoto = {&#10;                        navController.navigate(&quot;camera&quot;)&#10;                    },&#10;                    onAskPermission = {&#10;                        navController.navigate(&quot;request_permission&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;camera&quot;) {&#10;                CameraScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onPhotoTaken = { bitmap -&gt;&#10;                        capturedPhoto = bitmap&#10;                        isLateAttendance = false&#10;                        navController.navigate(&quot;submit_attendance&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;submit_attendance&quot;) {&#10;                SubmitAttendanceScreen(&#10;                    capturedPhoto = capturedPhoto,&#10;                    isLateAttendance = isLateAttendance,&#10;                    onBackClick = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    },&#10;                    onTakePhotoClick = {&#10;                        navController.navigate(&quot;camera&quot;)&#10;                    },&#10;                    onSubmitSuccess = {&#10;                        capturedPhoto = null&#10;                        isLateAttendance = false&#10;                        navController.navigate(&quot;submission_complete&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = false }&#10;                            launchSingleTop = true&#10;                        }&#10;                    },&#10;                    onNavigateHome = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;history&quot;) {&#10;                HistoryScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigateToDetail = { className, status, courseCode, lecturerId, room, day, startTime, endTime, attendanceDate, recordedAt -&gt;&#10;                        selectedClassName = className&#10;                        selectedStatus = status&#10;                        selectedCourseCode = courseCode&#10;                        selectedLecturerId = lecturerId&#10;                        selectedRoom = room&#10;                        selectedDay = day&#10;                        selectedStartTime = startTime&#10;                        selectedEndTime = endTime&#10;                        selectedAttendanceDate = attendanceDate&#10;                        selectedRecordedAt = recordedAt&#10;                        navController.navigate(&quot;attendance_detail&quot;)&#10;                    },&#10;                    onNavigateToSchedule = {&#10;                        navController.navigate(&quot;schedule&quot;) {&#10;                            popUpTo(&quot;home&quot;) { saveState = true }&#10;                            launchSingleTop = true&#10;                            restoreState = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;attendance_detail&quot;) {&#10;                AttendanceDetailScreen(&#10;                    className = selectedClassName,&#10;                    status = selectedStatus,&#10;                    courseCode = selectedCourseCode,&#10;                    lecturerId = selectedLecturerId,&#10;                    room = selectedRoom,&#10;                    day = selectedDay,&#10;                    startTime = selectedStartTime,&#10;                    endTime = selectedEndTime,&#10;                    attendanceDate = selectedAttendanceDate,&#10;                    recordedAt = selectedRecordedAt,&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // List screen for center navigation&#10;            composable(&quot;list&quot;) {&#10;                ListScreen(&#10;                    onNavigateBack = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    },&#10;                    onCardClick = { className, status -&gt;&#10;                        selectedClassName = className&#10;                        selectedStatus = status&#10;                        navController.navigate(&quot;attendance_detail&quot;)&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;schedule&quot;) {&#10;                ScheduleScreen(&#10;                    user = user,&#10;                    onNavigateBack = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;submission_complete&quot;) {&#10;                SubmissionCompleteScreen(&#10;                    status = selectedStatus, // pass the selected status&#10;                    courseName = selectedClassName, // pass the selected class name&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onNavigateHome = {&#10;                        navController.navigate(&quot;home&quot;) {&#10;                            popUpTo(&quot;home&quot;) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;request_permission&quot;) {&#10;                RequestPermissionScreen(&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onCreateRequest = {&#10;                        // TODO: Navigate to create permission request screen&#10;                        navController.navigate(&quot;create_permission_form&quot;)&#10;                    },&#10;                    onNavigate = { route -&gt;&#10;                        when (route) {&#10;                            &quot;home&quot; -&gt; {&#10;                                navController.navigate(&quot;home&quot;) {&#10;                                    popUpTo(&quot;home&quot;) { inclusive = true }&#10;                                    launchSingleTop = true&#10;                                }&#10;                            }&#10;                            else -&gt; {&#10;                                navController.navigate(route) {&#10;                                    popUpTo(&quot;home&quot;) { saveState = true }&#10;                                    launchSingleTop = true&#10;                                    restoreState = true&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&quot;create_permission_form&quot;) {&#10;                CreatePermissionFormScreen(&#10;                    user = user,&#10;                    onBackClick = {&#10;                        navController.popBackStack()&#10;                    },&#10;                    onSubmit = {&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;submission_screen/{scheduleId}/{courseId}&quot;,&#10;                arguments = listOf(&#10;                    navArgument(&quot;scheduleId&quot;) { type = androidx.navigation.NavType.IntType },&#10;                    navArgument(&quot;courseId&quot;) { type = androidx.navigation.NavType.IntType }&#10;                )&#10;            ) { backStackEntry -&gt;&#10;                val scheduleId = backStackEntry.arguments?.getInt(&quot;scheduleId&quot;)&#10;                val courseId = backStackEntry.arguments?.getInt(&quot;courseId&quot;)&#10;                SubmissionScreen(&#10;                    user = user,&#10;                    navController = navController,&#10;                    scheduleId = scheduleId,&#10;                    courseId = courseId&#10;                )&#10;            }&#10;&#10;            composable(&#10;                &quot;submission_complete_screen/{status}/{courseName}&quot;,&#10;                arguments = listOf(&#10;                    navArgument(&quot;status&quot;) { type = NavType.StringType },&#10;                    navArgument(&quot;courseName&quot;) { type = NavType.StringType }&#10;                )&#10;            ) { backStackEntry -&gt;&#10;                val status = backStackEntry.arguments?.getString(&quot;status&quot;) ?: &quot;&quot;&#10;                val courseName = backStackEntry.arguments?.getString(&quot;courseName&quot;) ?: &quot;&quot;&#10;                SubmitionComplete(&#10;                    status = status,&#10;                    courseName = courseName,&#10;                    onBackClick = { navController.navigate(&quot;home&quot;) },&#10;                    onNavigateHome = { navController.navigate(&quot;home&quot;) }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/smartattendance/ui/screens/SubmitionComplete.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/smartattendance/ui/screens/SubmitionComplete.kt" />
              <option name="originalContent" value="package com.example.smartattendance.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.CheckCircle&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.smartattendance.ui.components.AppHeader&#10;import com.example.smartattendance.ui.components.HeaderType&#10;import com.example.smartattendance.ui.components.AppBottomNavigation&#10;import com.example.smartattendance.ui.theme.AppFontFamily&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun SubmitionComplete(&#10;    onBackClick: () -&gt; Unit = {},&#10;    onNavigateHome: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;    ) {&#10;        // Header&#10;        AppHeader(&#10;            title = &quot;Attendance Detail&quot;,&#10;            headerType = HeaderType.BACK,&#10;            onBackClick = onBackClick&#10;        )&#10;&#10;        // Content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .fillMaxWidth()&#10;                .background(Color(0xFFF6F6F6))&#10;                .padding(start = 28.dp, end = 28.dp)&#10;                .verticalScroll(rememberScrollState()),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;        ) {&#10;            Spacer(modifier = Modifier.height(24.dp))&#10;&#10;            // Pending Icon&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(120.dp)&#10;                    .background(&#10;                        color = Color(0xFFFFD54F),&#10;                        shape = RoundedCornerShape(60.dp)&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    repeat(3) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .size(12.dp)&#10;                                .background(&#10;                                    color = Color.White,&#10;                                    shape = RoundedCornerShape(6.dp)&#10;                                )&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(24.dp))&#10;&#10;            Text(&#10;                text = &quot;PENDING&quot;,&#10;                fontSize = 32.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                fontFamily = AppFontFamily,&#10;                color = Color(0xFFFFD54F),&#10;                letterSpacing = 2.sp&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(32.dp))&#10;&#10;            // Warning Card&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Warning!&quot;,&#10;                        fontSize = 16.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color.Red,&#10;                        modifier = Modifier.fillMaxWidth()&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    Text(&#10;                        text = &quot;Ensure your face is visible to the external camera so that your presence can be verified.&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color(0xFF666666),&#10;                        lineHeight = 20.sp&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;            // Detail Card&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Detail&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color(0xFF2C2D32)&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                    // Detail Items&#10;                    DetailRow(&quot;Class&quot;, &quot;KEAMANAN KOMPUTER &amp; JARINGAN&quot;)&#10;                    DetailRow(&quot;Instructor&quot;, &quot;PUJIANTO YUGOPUSPITO&quot;)&#10;                    DetailRow(&quot;Room&quot;, &quot;B342&quot;)&#10;                    DetailRow(&quot;Date&quot;, &quot;26 SEPTEMBER 2025&quot;)&#10;                    DetailRow(&quot;Time&quot;, &quot;7:30&quot;)&#10;                    DetailRow(&quot;Status&quot;, &quot;PRESENT&quot;, statusColor = Color(0xFFFFD54F))&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;            // Class Information Card&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp),&#10;&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Class Information&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontFamily = AppFontFamily,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = Color(0xFF2C2D32)&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                    DetailRow(&quot;Day&quot;, &quot;Friday&quot;)&#10;                    DetailRow(&quot;Schedule&quot;, &quot;7:15AM - 9:45AM&quot;)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DetailRow(&#10;    label: String,&#10;    value: String,&#10;    statusColor: Color? = null&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 8.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween,&#10;        verticalAlignment = Alignment.Top&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            color = Color(0xFF666666),&#10;            modifier = Modifier.weight(1f),&#10;            fontFamily = AppFontFamily&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            color = statusColor ?: Color(0xFF2C2D32),&#10;            fontWeight = if (statusColor != null) FontWeight.Bold else FontWeight.Normal,&#10;            textAlign = TextAlign.End,&#10;            modifier = Modifier.weight(1f),&#10;            fontFamily = AppFontFamily&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun SubmitionCompletePreview() {&#10;    SubmitionComplete()&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.smartattendance.ui.screens&#10;&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.CheckCircle&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.smartattendance.ui.components.AppHeader&#10;import com.example.smartattendance.ui.components.HeaderType&#10;import com.example.smartattendance.ui.components.AppBottomNavigation&#10;import com.example.smartattendance.ui.theme.AppFontFamily&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun SubmitionComplete(&#10;    status: String = &quot;pending&quot;,&#10;    courseName: String = &quot;&quot;,&#10;    onBackClick: () -&gt; Unit = {},&#10;    onNavigateHome: () -&gt; Unit = {}&#10;) {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color.White)&#10;    ) {&#10;        // Header&#10;        AppHeader(&#10;            title = &quot;Attendance Detail&quot;,&#10;            headerType = HeaderType.BACK,&#10;            onBackClick = onBackClick&#10;        )&#10;&#10;        // Content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .fillMaxWidth()&#10;                .background(Color(0xFFF6F6F6))&#10;                .padding(start = 28.dp, end = 28.dp)&#10;                .verticalScroll(rememberScrollState()),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;        ) {&#10;            Spacer(modifier = Modifier.height(24.dp))&#10;&#10;            // Pending Icon&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(120.dp)&#10;                    .background(&#10;                        color = Color(0xFFFFD54F),&#10;                        shape = RoundedCornerShape(60.dp)&#10;                    ),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Row(&#10;                    horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                ) {&#10;                    repeat(3) {&#10;                        Box(&#10;                            modifier = Modifier&#10;                                .size(12.dp)&#10;                                .background(&#10;                                    color = Color.White,&#10;                                    shape = RoundedCornerShape(6.dp)&#10;                                )&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(24.dp))&#10;&#10;            Text(&#10;                text = status.uppercase(),&#10;                fontSize = 32.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                fontFamily = AppFontFamily,&#10;                color = Color(0xFFFFD54F),&#10;                letterSpacing = 2.sp&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(32.dp))&#10;&#10;            // Warning Card&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Warning!&quot;,&#10;                        fontSize = 16.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color.Red,&#10;                        modifier = Modifier.fillMaxWidth()&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    Text(&#10;                        text = &quot;Ensure your face is visible to the external camera so that your presence can be verified.&quot;,&#10;                        fontSize = 14.sp,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color(0xFF666666),&#10;                        lineHeight = 20.sp&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;            // Detail Card&#10;            Card(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp)&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Detail&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        fontFamily = AppFontFamily,&#10;                        color = Color(0xFF2C2D32)&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                    // Detail Items&#10;                    DetailRow(&quot;Class&quot;, courseName)&#10;                    DetailRow(&quot;Status&quot;, status.uppercase(), statusColor = Color(0xFFFFD54F))&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(16.dp))&#10;&#10;            // Class Information Card&#10;            Card(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = CardDefaults.cardColors(containerColor = Color.White),&#10;                elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),&#10;                shape = RoundedCornerShape(8.dp),&#10;&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier.padding(16.dp)&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Class Information&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontFamily = AppFontFamily,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = Color(0xFF2C2D32)&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                    // Example static info, you can update as needed&#10;                    DetailRow(&quot;Day&quot;, &quot;Friday&quot;)&#10;                    DetailRow(&quot;Schedule&quot;, &quot;7:15AM - 9:45AM&quot;)&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DetailRow(&#10;    label: String,&#10;    value: String,&#10;    statusColor: Color? = null&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 8.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween,&#10;        verticalAlignment = Alignment.Top&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            color = Color(0xFF666666),&#10;            modifier = Modifier.weight(1f),&#10;            fontFamily = AppFontFamily&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            color = statusColor ?: Color(0xFF2C2D32),&#10;            fontWeight = if (statusColor != null) FontWeight.Bold else FontWeight.Normal,&#10;            textAlign = TextAlign.End,&#10;            modifier = Modifier.weight(1f),&#10;            fontFamily = AppFontFamily&#10;        )&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun SubmitionCompletePreview() {&#10;    SubmitionComplete()&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/database_functions.sql">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/database_functions.sql" />
              <option name="updatedContent" value="-- ==============================&#10;-- STORED PROCEDURES FOR STATISTICS&#10;-- ==============================&#10;&#10;-- Function untuk mendapatkan statistik keseluruhan user&#10;CREATE OR REPLACE FUNCTION get_user_statistics(p_user_id VARCHAR)&#10;RETURNS TABLE(&#10;    total_present BIGINT,&#10;    total_late BIGINT, &#10;    total_absent BIGINT,&#10;    total_meetings BIGINT,&#10;    attendance_percentage NUMERIC&#10;) AS $$&#10;BEGIN&#10;    RETURN QUERY&#10;    SELECT &#10;        COALESCE(SUM(CASE WHEN a.status = 'present' THEN 1 ELSE 0 END), 0) as total_present,&#10;        COALESCE(SUM(CASE WHEN a.status = 'late' THEN 1 ELSE 0 END), 0) as total_late,&#10;        COALESCE(SUM(CASE WHEN a.status = 'absent' THEN 1 ELSE 0 END), 0) as total_absent,&#10;        COALESCE(COUNT(a.attendance_id), 0) as total_meetings,&#10;        COALESCE(&#10;            ROUND(&#10;                SUM(CASE WHEN a.status = 'present' THEN 1 ELSE 0 END) * 100.0 / &#10;                NULLIF(COUNT(a.attendance_id), 0), &#10;                2&#10;            ), &#10;            0&#10;        ) as attendance_percentage&#10;    FROM enrollments e&#10;    LEFT JOIN attendances a ON e.enrollment_id = a.enrollment_id&#10;    WHERE e.user_id = p_user_id;&#10;END;&#10;$$ LANGUAGE plpgsql;&#10;&#10;-- Function untuk mendapatkan statistik per mata kuliah&#10;CREATE OR REPLACE FUNCTION get_course_statistics(p_user_id VARCHAR)&#10;RETURNS TABLE(&#10;    course_code VARCHAR,&#10;    course_name VARCHAR,&#10;    total_pertemuan BIGINT,&#10;    hadir BIGINT,&#10;    terlambat BIGINT,&#10;    tidak_hadir BIGINT,&#10;    persentase_kehadiran NUMERIC&#10;) AS $$&#10;BEGIN&#10;    RETURN QUERY&#10;    SELECT &#10;        c.course_code,&#10;        c.course_name,&#10;        COUNT(a.attendance_id) as total_pertemuan,&#10;        SUM(CASE WHEN a.status = 'present' THEN 1 ELSE 0 END) as hadir,&#10;        SUM(CASE WHEN a.status = 'late' THEN 1 ELSE 0 END) as terlambat,&#10;        SUM(CASE WHEN a.status = 'absent' THEN 1 ELSE 0 END) as tidak_hadir,&#10;        ROUND(&#10;            SUM(CASE WHEN a.status = 'present' THEN 1 ELSE 0 END) * 100.0 / &#10;            NULLIF(COUNT(a.attendance_id), 0), &#10;            2&#10;        ) as persentase_kehadiran&#10;    FROM enrollments e&#10;    JOIN courses c ON e.course_id = c.course_id&#10;    LEFT JOIN attendances a ON e.enrollment_id = a.enrollment_id&#10;    WHERE e.user_id = p_user_id&#10;    GROUP BY c.course_code, c.course_name, c.course_id&#10;    ORDER BY c.course_code;&#10;END;&#10;$$ LANGUAGE plpgsql;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>